File Upload & Sharing Platform

This is a file upload platform where users can upload, manage, and share files. The platform supports handling large files up to 1GB and allows users to share their files publicly with a unique URL.

Features

User Authentication: Users can log in using their email and password.
Upload Files: Users can upload files with additional metadata (title, description).
File Management: Users can view and delete their uploaded files.
File Sharing: Users can share files with a unique URL.
Large File Support: Files up to 1GB can be uploaded and stored.
Local Storage: Files are stored locally or on cloud services like AWS S3, based on configuration.
Prerequisites

Ensure you have the following installed:

Ruby (>= 2.7.0)
Rails (>= 6.0)
SQLite3 (or configure for your preferred database)
Bundler
Node.js (for asset compilation)
Yarn (for managing JavaScript dependencies)
Setup

1. Clone the Repository
bash
Copy code
git clone https://github.com/your-username/your-repository.git
cd your-repository
2. Install Dependencies
Install Ruby gems:

bash
Copy code
bundle install
Install JavaScript dependencies:

bash
Copy code
yarn install
3. Configure ActiveStorage
In config/storage.yml, you can configure how files are stored. For local development, the default Disk service is used:

yaml
Copy code
# config/storage.yml

local:
  service: Disk
  root: <%= Rails.root.join("storage") %>

amazon:
  service: S3
  access_key_id: <%= ENV["AWS_ACCESS_KEY_ID"] %>
  secret_access_key: <%= ENV["AWS_SECRET_ACCESS_KEY"] %>
  region: us-east-1
  bucket: your-bucket-name
For local storage, ensure that files are stored in the storage directory in your project root.

For cloud storage (e.g., AWS S3), set the appropriate credentials in your .env or environment variables.

4. Configure the Database
Run database migrations:

bash
Copy code
rails db:create
rails db:migrate
5. Start the Server
Start the Rails development server:

bash
Copy code
rails server
Visit http://localhost:3000 in your browser.

File Uploading

The platform supports uploading files up to 1GB. Uploaded files are stored either locally or in a cloud storage service (e.g., AWS S3), depending on your configuration.

Upload Form: The form allows users to specify a title, description, and the file they wish to upload.
File Storage: Files are stored using ActiveStorage. You can customize the storage options in config/storage.yml for local or cloud storage.
Example: Uploading a File
Log in with your credentials.
Go to the "My Files" page.
Fill out the title, description, and choose the file to upload.
Click the "Upload File" button.
Uploaded files are stored securely, and their metadata (title, description) is saved in the database.

File Sharing

Once a file is uploaded, users can share their files with a unique, public URL.

Share URL
To share a file:

Upload a file.
On the file list page, click the "Share" button next to the file.
A unique URL will be generated for the file.
Share the URL with others to give them access to the file.
The URL is generated by creating a random public_url for the file, which is stored in the database and can be used to publicly access the file.

Example: Share a File
After uploading a file, click the "Share" button next to the file you wish to share.
The URL will be shown, e.g., /files/abcdef1234/public.
You can use this URL to access the file publicly.
File Deletion

Users can delete files they have uploaded by clicking the "Delete" button next to each file. This will remove the file from the server and delete its metadata from the database.

Handling Large Files (Up to 1GB)

File Upload Size Limit: The platform supports file uploads up to 1GB. You can adjust this limit by configuring the client_max_body_size setting in your web server if needed (for example, in Nginx or Apache).
For local development, Rails itself should handle large file uploads, but make sure your system has enough resources (disk space, memory, etc.).
ActiveStorage & File Compression: ActiveStorage automatically handles the file upload and storage process. If necessary, you can implement custom logic to compress or process the files after they are uploaded.
Routes

File Upload & Management Routes
POST /files: Upload a new file.
GET /files: View a list of uploaded files.
DELETE /files/:id: Delete an uploaded file.
GET /files/:id/share: Share a file and generate a public URL.
GET /files/:id/public: Access the file via a public URL.
User Authentication Routes
POST /login: Log in with email and password.
POST /logout: Log out from the platform.
File Storage Considerations

Disk Service: By default, files are stored on disk in the storage directory. This is fine for local development and small applications.
Cloud Storage (e.g., AWS S3): For production or larger applications, you can use cloud storage to manage your file uploads. Ensure that you configure your config/storage.yml and set the appropriate environment variables for services like AWS S3.
Example Cloud Storage Configuration
yaml
Copy code
# config/storage.yml

amazon:
  service: S3
  access_key_id: <%= ENV["AWS_ACCESS_KEY_ID"] %>
  secret_access_key: <%= ENV["AWS_SECRET_ACCESS_KEY"] %>
  region: us-east-1
  bucket: your-bucket-name
Troubleshooting

File Not Found or Invalid Share URL
If a file is not found or the share URL is invalid, ensure that the file's public_url is correctly generated in the database and that the file is attached to the UserFile record.

File Upload Size Limit Exceeded
Ensure your server is configured to handle large files. If you're using Nginx or another web server, you may need to adjust the client_max_body_size setting to support uploads larger than 10MB.

nginx
Copy code
client_max_body_size 1G;
License

This project is open-source and available under the MIT License. See the LICENSE file for more information.
